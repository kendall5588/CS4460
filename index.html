<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.css">
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.js"></script>
	<script src="lib/d3.js"></script>
	<script src="js/stateBorders.js"></script>
	<script src="js/map.js"></script>
	<script src="js/javascript.js"></script>
	<style>
		#graphPanel.ui-panel {
			width: 35em;
		}
		
		.arc path {
		  stroke: #fff;
		}
		
		.state {
			fill: none;
			stroke: #fff;
		}

		.state:hover {
			fill-opacity: 0.5;
		}

		#tooltip {
			position: absolute;
			text-align: center;
			padding: 20px;
			margin: 10px;
			font: 12px sans-serif;
			background: lightsteelblue;
			border: 1px;
			border-radius: 2px;
			pointer-events: none;
		}

		#tooltip h4 {
			margin: 0;
			font-size: 14px;
		}

		#tooltip {
			background: rgba(0,0,0,0.9);
			border: 1px solid grey;
			border-radius: 5px;
			font-size: 12px;
			width: auto;
			padding: 4px;
			color: white;
			opacity: 0;
		}

		#tooltip table {
			table-layout: fixed;
		}

		#tooltip tr td {
			padding: 0;
			margin: 0;
		}

		#tooltip tr td:nth-child(1) {
			width: 50px;
		}

		#tooltip tr td:nth-child(2) {
			text-align: center;
		}

		.chart text {
			fill: white;
			font: 12px sans-serif;
			text-anchor: middle;
		}
		
	</style>
</head>

<body>
	<div id = "totalScreen">

		<!-- main screen is the overview page with the maps -->
		<div id = "mainScreen">
			<!-- START: LEFT COLUMN OF OVERVIEW SCREEN -->
			<div id = "leftMainScreen" class = "ui-block-a">
				<h1 style = "margin: 0 auto" align="center">SAT/State Education Visualization</h1>
				<!-- top menu with buttons for the comparison screen and various dropdowns -->
				<p id = "coroplethButtons" style = "margin: 0 auto" align="center">
					<button id = "mainButton" onclick = "showMain()" data-inline = "true">
						Overview
					</button>
					<button id = "comparisonButton" onclick = "showComp()" data-inline = "true">
						Compare
					</button>
					<select id="maindropdown" data-inline = "true">
						<option val=totalScore>totalScore</option>
						<option val=spentPerStudent>spentPerStudent</option>
						<option val=CR_m>CR_m</option>
					</select>
					<button id="update" onclick="updateClicked()" data-inline = "true">
						Update
					</button>
				</p>
				<div id="tooltip"></div>
				<svg width="960" height="600" id="statesvg"></svg>
				<script>coropleth();</script>
			</div>

			<!-- START: RIGHT COLUMN OF OVERVIEW SCREEN -->
			<div id = "rightMainScreen"  class="ui-block-b">
				<h2 style = "margin: 0 auto" align="center"">Scatter Plot</h2>
				<p style = "margin: 0 auto" align="center">
					<font size="4">X:</font>
					<select id="xdropdown" data-inline = "true">
						<option val=spentPerStudent>spentPerStudent</option>
						<option val=totalScore>totalScore</option>
						<option val=CR_m>CR_m</option>
					</select>
					<font size="4">Y:</font>
					<select id="ydropdown" data-inline = "true">
						<option val=totalScore>totalScore</option>
						<option val=spentPerStudent>spentPerStudent</option>
						<option val=CR_m>CR_m</option>
					</select>
					<button id="update" onclick="updateScatterplot()" data-inline = "true">
						Update
					</button>
				</p>
				
				<style>
					body {
					  font: 11px sans-serif;
					}

					.axis path,
					.axis line {
					  fill: none;
					  stroke: #000;
					  shape-rendering: crispEdges;
					}



					.dot:hover{
					  fill: steelblue;
					}

					.tooltip {
					  position: absolute;
					  width: 200px;
					  height: 28px;
					  pointer-events: none;
					}
				</style>
					
				<script>drawScatterplot();</script>
			
			</div>
			<!-- END: OVERVIEW SCREEN -->
		</div>
		
		<script>
			//just setting it up so that the main screen (overview screen) is what shows up when page opened
			// but if compare button is clicked, the overview screen is replaced with the comparison screen
			var mainScreen = document.getElementById("mainScreen");
			var compScreen = document.getElementByID("compScreen");
		</script>

		<!-- START: COMPARISON SCREEN -->		
		<div id = "compScreen" class="ui-grid-a">
			<h1 style = "text-indent: 7em">SAT/State Education Visualization</h1>
			<p style = "text-indent: 22em">
				<button id = "mainButton" onclick = "showMain()" data-inline = "true">
					Overview
				</button>
				<button id = "comparisonButton" onclick = "showComp()" data-inline = "true">
					Compare
				</button>
			</p>
			<div class="ui-block-a">
				<img src = 'http://static.tumblr.com/2zujawz/qpVng2o4h/mockup-georgia.jpg'>
			</div>
			<div class="ui-block-b">
				<img src = 'http://static.tumblr.com/2zujawz/qpVng2o4h/mockup-georgia.jpg'>
			</div>
		</div>
		<!-- END: COMPARISON SCREEN -->
	</div>
	<!-- END: ALL DIVS -->

	<script>
		//set compScreen's default to be invisible
		var compScreen = document.getElementById("compScreen");
		compScreen.style.display = 'none';
	</script>
	
</body>
